<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <title>ToDoApplication</title>
    <link rel="stylesheet" href="styles/bootstrap.min.css">
    <link rel="stylesheet" href="styles/style.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body onload="showTegs()">

<header>
    <div class="container"></div>
</header>

<div class="container text-center col-md-7">

    <h1>Creating new task</h1>
    <form id="newTask" action="task" method="post">

        <div class="input-group mb-3">
            <span class="input-group-text">
                Task title:
            </span>
            <input type="text" name="title" id="title" class="form-control">
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text">
                Description:
            </span>
            <input type="text" name="description" id="description" class="form-control">
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text">
                Hours for task:
            </span>
            <input step="1" min="1" max="100"
                   type="number" name="hours" id="hours" class="form-control">
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text">
                Tegs:
            </span>
            <select name="tegs" id="tegs" class="form-control">
                <!--
                 <select name="tegs" id="tegs[]" class="form-control" multiple="multiple" size="3">
                 хочу сделать, чтоб можно было выбрать несколько тегов, но выделяется все равно только 1
                 -->
            </select>
        </div>

        <br>
        <button type="button" class="btn btn-dark text-center"
                onclick="document.location='/ToDoApp_war_exploded/createTeg.html'">
            Create new teg
        </button>

        <br><br>
        <div class="input-group mb-3">
            <span class="input-group-text">
                Status:
            </span>
            <select name="status" id="status" class="form-control">
                <option value="CREATED">created</option>
                <option value="PROGRESS">progress</option>
                <option value="DONE">done</option>
            </select>
        </div>

        <div class="input-group mb-3">
            <span class="input-group-text">
                Priority:
            </span>
            <select name="priority" id="priority" class="form-control">
                <option value="HIGH">high</option>
                <option value="MEDIUM">medium</option>
                <option value="LOW">low</option>
            </select>
        </div>

        <br>
        <input id="create_new_task" type="submit" value="Create">
    </form>
</div>

<script>
    function showTegs() {
        let url = "teg"
        $.get(url, function (response) {
            $.each(response, function (i, teg) {
                const tegs = document.getElementById('tegs');
                tegs[i] = new Option(teg.title, teg.title);
                console.log(tegs[i])
            });
        });
    }
</script>

</body>
</html>
